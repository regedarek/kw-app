# ⚠️  WARNING: This file is committed to git!
# Only use Bitwarden fetch commands: $(bw get item ...)
# NEVER put actual secret values in this file!

# Shared secrets across all environments
# Fetched dynamically from Bitwarden with auto-unlock from macOS Keychain

# Auto-unlock Bitwarden using password from macOS Keychain
# One-time setup: security add-generic-password -a "$USER" -s "bitwarden-master-password" -w
BW_SESSION=$(security find-generic-password -a "$USER" -s "bitwarden-master-password" -w 2>/dev/null | xargs -I {} bw unlock {} --raw 2>/dev/null || echo "$BW_SESSION")

# Docker Registry credentials (shared between staging and production)
KAMAL_REGISTRY_USERNAME=$(bw get item kw-app-production-docker-registry --session $BW_SESSION | jq -r '.login.username')
KAMAL_REGISTRY_PASSWORD=$(bw get item kw-app-production-docker-registry --session $BW_SESSION | jq -r '.login.password')